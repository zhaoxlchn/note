import{_ as s,c as a,o as n,a as l}from"./app.bff02bbe.js";const m=JSON.parse('{"title":"MySQL 服务相关内容","description":"","frontmatter":{},"headers":[],"relativePath":"mysql/mysql-cli.md","lastUpdated":null}'),e={name:"mysql/mysql-cli.md"},p=l(`<h1 id="mysql-服务相关内容" tabindex="-1">MySQL 服务相关内容 <a class="header-anchor" href="#mysql-服务相关内容" aria-hidden="true">#</a></h1><br><hr><h5 id="_1、mysql-服务启动与关闭" tabindex="-1">1、MySQL 服务启动与关闭 <a class="header-anchor" href="#_1、mysql-服务启动与关闭" aria-hidden="true">#</a></h5><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysqld</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span></span>
<span class="line"><span style="color:#FFCB6B;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysqld</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_2、新装-mysql-会自己默认设置一个密码" tabindex="-1">2、新装 MySQL 会自己默认设置一个密码 <a class="header-anchor" href="#_2、新装-mysql-会自己默认设置一个密码" aria-hidden="true">#</a></h5><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">文件位置： /var/log/mysqld.log temporary password所在那一行</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_3、修改-mysql-密码-及新装数据库远程访问设置-适用于5-7" tabindex="-1">3、修改 MySQL 密码， 及新装数据库远程访问设置(适用于5.7) <a class="header-anchor" href="#_3、修改-mysql-密码-及新装数据库远程访问设置-适用于5-7" aria-hidden="true">#</a></h5><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">password</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">password</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">123456</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">grant</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">privileges</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">*</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">identified</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">by</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">123456</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">grant</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">option</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">flush</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">privileges</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 注释：没法设置短密码时先执行下面方法</span></span>
<span class="line"><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">global</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">validate_password_policy=LOW</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 指定密码检查级别为最低</span></span>
<span class="line"><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">global</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">validate_password_length=</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 指定密码最小长度</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h5 id="_4、配置文件相关" tabindex="-1">4、配置文件相关 <a class="header-anchor" href="#_4、配置文件相关" aria-hidden="true">#</a></h5><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">skip-grant-tables  作用：允许无密码登录（如：忘记密码）</span></span>
<span class="line"><span style="color:#A6ACCD;">skip-name-resolve  作用：禁止mysql做域名解析（如：连接mysql时，不能使用 localhost连接了，而是要使用IP地址的）</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_5、windows-下-mysql-服务操作" tabindex="-1">5、Windows 下 MySQL 服务操作 <a class="header-anchor" href="#_5、windows-下-mysql-服务操作" aria-hidden="true">#</a></h5><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">mysqld</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--initialize</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># (Windows 下压缩包安装方式初始化)</span></span>
<span class="line"><span style="color:#FFCB6B;">mysqld</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#（将MySQL添加到服务）</span></span>
<span class="line"><span style="color:#FFCB6B;">mysqld</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remove</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">#（将MySQL服务移除）</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_6、主从配置-从连接主" tabindex="-1">6、主从配置（从连接主） <a class="header-anchor" href="#_6、主从配置-从连接主" aria-hidden="true">#</a></h5><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">查看主机二进制文件参数：show master status;</span></span>
<span class="line"><span style="color:#A6ACCD;">建立连接：change master to master_host=&#39;192.168.0.101&#39;, master_user=&#39;root&#39;, master_password=&#39;123456&#39;,master_log_file=&#39;mysql-bin.000001&#39;, master_log_pos=154;</span></span>
<span class="line"><span style="color:#A6ACCD;">开始同步：start slave;</span></span>
<span class="line"><span style="color:#A6ACCD;">查看状态：show slave status \\G;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="_7、全局修改设置-set-global" tabindex="-1">7、全局修改设置 SET GLOBAL <a class="header-anchor" href="#_7、全局修改设置-set-global" aria-hidden="true">#</a></h5><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">例如修改sql_mode：set global sql_mode = &#39;STRICT_TRANS_TABLES&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_8、查看设置" tabindex="-1">8、查看设置 <a class="header-anchor" href="#_8、查看设置" aria-hidden="true">#</a></h5><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">查看所有</span></span>
<span class="line"><span style="color:#A6ACCD;">show global variables;</span></span>
<span class="line"><span style="color:#A6ACCD;">查看指定设置 select @@</span></span>
<span class="line"><span style="color:#A6ACCD;">例如：select @@sql_mode</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,19),o=[p];function r(t,c,i,d,y,C){return n(),a("div",null,o)}const A=s(e,[["render",r]]);export{m as __pageData,A as default};
